# Simple function call

pow(2, 2)

==>

Program(Expression(Term(FunctionCall(FunctionName(Var(PlainVar)), CommaSep(
    FunctionArg(Expression(Term(Number))),
    FunctionArg(Expression(Term(Number)))
)))))

# Postfix function call

2.pow(2)

==>

Program(Expression(Term(FunctionCall(
    Term(Number),
    FunctionName(Var(PlainVar)),
    CommaSep(FunctionArg(Expression(Term(Number))))
))))

# Simple lambda

map([1, 2], a => a + 1)

==>

Program(Expression(Term(FunctionCall(
    FunctionName(Var(PlainVar)),
    CommaSep(
        FunctionArg(Expression(Term(Array(CommaSep(
            ArrElem(Expression(Term(Number))),
            ArrElem(Expression(Term(Number)))
        ))))),
        FunctionArg(Lambda(
            Variable(Var(PlainVar)),
            Arrow,
            Expression(Operator(
                Expression(Term(Variable(Var(PlainVar)))),
                ArithOp,
                Expression(Term(Number))
            ))
        ))
    )
))))

# Fancy lambda

[1, 2].map((a, b) => a + b)

==>

Program(Expression(Term(FunctionCall(
    Term(Array(CommaSep(
        ArrElem(Expression(Term(Number))),
        ArrElem(Expression(Term(Number)))
    ))),
    FunctionName(Var(PlainVar)),
    CommaSep(
        FunctionArg(Lambda(
            CommaSep(
                Variable(Var(PlainVar)),
                Variable(Var(PlainVar))
            ),
            Arrow,
            Expression(Operator(
                Expression(Term(Variable(Var(PlainVar)))),
                ArithOp,
                Expression(Term(Variable(Var(PlainVar))))
            ))
        ))
    )
))))
